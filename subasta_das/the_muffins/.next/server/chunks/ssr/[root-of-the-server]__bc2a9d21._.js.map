{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/header.module.css [ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"closeBtn\": \"header-module__bY5_QG__closeBtn\",\n  \"header\": \"header-module__bY5_QG__header\",\n  \"hidden\": \"header-module__bY5_QG__hidden\",\n  \"logo\": \"header-module__bY5_QG__logo\",\n  \"menuContent\": \"header-module__bY5_QG__menuContent\",\n  \"menuIcon\": \"header-module__bY5_QG__menuIcon\",\n  \"nav\": \"header-module__bY5_QG__nav\",\n  \"navCenter\": \"header-module__bY5_QG__navCenter\",\n  \"navItem\": \"header-module__bY5_QG__navItem\",\n  \"navLeft\": \"header-module__bY5_QG__navLeft\",\n  \"navLink\": \"header-module__bY5_QG__navLink\",\n  \"navList\": \"header-module__bY5_QG__navList\",\n  \"navRight\": \"header-module__bY5_QG__navRight\",\n  \"open\": \"header-module__bY5_QG__open\",\n  \"searchContainer\": \"header-module__bY5_QG__searchContainer\",\n  \"searchIcon\": \"header-module__bY5_QG__searchIcon\",\n  \"searchModal\": \"header-module__bY5_QG__searchModal\",\n  \"sideMenu\": \"header-module__bY5_QG__sideMenu\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/patri/OneDrive/Documentos/3/DAS/DesarrolloAps2/subasta_das/the_muffins/components/header.js"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport Link from 'next/link';\r\nimport styles from './header.module.css';\r\n\r\nexport default function Header() {\r\n  const [menuOpen, setMenuOpen] = useState(false);\r\n  const [searchModalOpen, setSearchModalOpen] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [authChecked, setAuthChecked] = useState(false); // ‚úÖ nuevo flag\r\n\r\n  useEffect(() => {\r\n    if (typeof window !== 'undefined') {\r\n      const token = localStorage.getItem('accessToken');\r\n      setIsAuthenticated(!!token && token !== 'undefined' && token !== 'null');\r\n      setAuthChecked(true); // ‚úÖ ahora s√≠ sabemos si hay token\r\n    }\r\n  }, []);\r\n\r\n  const toggleMenu = () => setMenuOpen(!menuOpen);\r\n  const toggleSearchModal = () => setSearchModalOpen(!searchModalOpen);\r\n  const handleSearchChange = (e) => setSearchTerm(e.target.value);\r\n\r\n  const handleSearchSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (searchTerm.trim()) {\r\n      window.location.href = `/search?query=${encodeURIComponent(searchTerm)}`;\r\n      setSearchModalOpen(false);\r\n      setSearchTerm('');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <header className={styles.header}>\r\n      <nav className={styles.nav}>\r\n        <div className={styles.navLeft}>\r\n          <button className={styles.menuIcon} onClick={toggleMenu}>‚ò∞ Men√∫</button>\r\n        </div>\r\n\r\n        <div className={styles.navCenter}>\r\n          <Link href=\"/\" passHref>\r\n            <img src=\"/images/logo2.png\" alt=\"Logo de la joyer√≠a\" className={styles.logo} />\r\n          </Link>\r\n        </div>\r\n\r\n        <div className={styles.navRight}>\r\n          <div className={styles.searchContainer}>\r\n            <span className={styles.searchIcon} onClick={toggleSearchModal}>üîç</span>\r\n            {searchModalOpen && (\r\n              <div className={styles.searchModal}>\r\n                <form onSubmit={handleSearchSubmit}>\r\n                  <input\r\n                    type=\"text\"\r\n                    className={styles.searchInput}\r\n                    placeholder=\"Buscar productos...\"\r\n                    value={searchTerm}\r\n                    onChange={handleSearchChange}\r\n                  />\r\n                  <button type=\"submit\" className={styles.searchBtn}>üîé</button>\r\n                  <button type=\"button\" className={styles.closeBtn} onClick={toggleSearchModal}>‚úï</button>\r\n                </form>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className={styles.navList}>\r\n            {!authChecked ? null : isAuthenticated ? (\r\n              <Link href=\"/perfilUsuario\" passHref>\r\n                <button className={styles.navItem}>Mi Perfil</button>\r\n              </Link>\r\n            ) : (\r\n              <>\r\n                <Link href=\"/login\" passHref>\r\n                  <button className={styles.navItem}>Iniciar Sesi√≥n</button>\r\n                </Link>\r\n                <Link href=\"/registro\" passHref>\r\n                  <button className={styles.navItem}>Registrarse</button>\r\n                </Link>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </nav>\r\n\r\n      {menuOpen && (\r\n        <div className={`${styles.sideMenu} ${menuOpen ? styles.open : ''}`}>\r\n          <div className={styles.menuContent}>\r\n            <button className={styles.closeBtn} onClick={toggleMenu}>‚úï</button>\r\n\r\n            <h2>COLECCIONES</h2>\r\n            <div>\r\n              <Link href=\"/products\"><button>Todo</button></Link>\r\n              <Link href=\"/products?categoria=anillos\"><button>Anillos</button></Link>\r\n              <Link href=\"/products?categoria=collares\"><button>Collares</button></Link>\r\n              <Link href=\"/products?categoria=pulseras\"><button>Pulseras</button></Link>\r\n              <Link href=\"/products?categoria=pendientes\"><button>Pendientes</button></Link>\r\n              <Link href=\"/products?categoria=relojes\"><button>Relojes</button></Link>\r\n              <Link href=\"/createauction\"><button className={styles.navItem}>Crear Subasta</button></Link>\r\n            </div>\r\n\r\n            <h2>FILTRAR POR PRECIO</h2>\r\n            <div>\r\n              <Link href=\"/products?price_range=under_100\"><button>Menos de 100 ‚Ç¨</button></Link>\r\n              <Link href=\"/products?price_range=between_100_1000\"><button>100 ‚Ç¨ - 1000 ‚Ç¨</button></Link>\r\n              <Link href=\"/products?price_range=over_1000\"><button>M√°s de 1000 ‚Ç¨</button></Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </header>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 465, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/pages/search.module.css [ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"body\": \"search-module__OxRNaG__body\",\n  \"customFooter\": \"search-module__OxRNaG__customFooter\",\n  \"header\": \"search-module__OxRNaG__header\",\n  \"loadingText\": \"search-module__OxRNaG__loadingText\",\n  \"logo\": \"search-module__OxRNaG__logo\",\n  \"navCenter\": \"search-module__OxRNaG__navCenter\",\n  \"noResults\": \"search-module__OxRNaG__noResults\",\n  \"producto\": \"search-module__OxRNaG__producto\",\n  \"productoImg\": \"search-module__OxRNaG__productoImg\",\n  \"productosGrid\": \"search-module__OxRNaG__productosGrid\",\n  \"productsContainer\": \"search-module__OxRNaG__productsContainer\",\n  \"viewBtn\": \"search-module__OxRNaG__viewBtn\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 517, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/patri/OneDrive/Documentos/3/DAS/DesarrolloAps2/subasta_das/the_muffins/pages/search.jsx"],"sourcesContent":["'use client';\r\nimport React, { useState, useEffect } from 'react';\r\nimport Header from '../components/header';\r\nimport styles from './search.module.css'; \r\nimport Link from 'next/link';\r\nimport { useRouter } from 'next/router';\r\n\r\nconst SearchPage = () => {\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [filteredProducts, setFilteredProducts] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    const query = router.query.query || '';\r\n    setSearchTerm(query);\r\n\r\n    const fetchProducts = async () => {\r\n      if (!query || query.length < 2) {\r\n        setFilteredProducts([]);\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      setLoading(true); // aseguramos que loading se activa al empezar\r\n\r\n      try {\r\n        const response = await fetch(`http://127.0.0.1:8000/subastas/?search=${encodeURIComponent(query)}`);\r\n        if (!response.ok) {\r\n          throw new Error('No se pudo cargar los productos');\r\n        }\r\n        const data = await response.json();\r\n\r\n        const results = data.results.filter((product) =>\r\n          product.title?.toLowerCase().includes(query.toLowerCase())\r\n        );\r\n\r\n        setFilteredProducts(results);\r\n      } catch (error) {\r\n        console.error('Error cargando productos desde Django:', error);\r\n        setFilteredProducts([]);\r\n      } finally {\r\n        setLoading(false); // loading se desactiva al terminar\r\n      }\r\n    };\r\n\r\n    fetchProducts();\r\n  }, [router.query.query]);\r\n\r\n  return (\r\n    <>\r\n      <Header/>\r\n\r\n      <div className={styles.productsContainer}>\r\n        {loading ? (\r\n          <p className={styles.loadingText}>Cargando productos...</p>\r\n        ) : !searchTerm ? (\r\n          <p className={styles.noResults}>Introduce un t√©rmino de b√∫squeda.</p>\r\n        ) : filteredProducts.length === 0 ? (\r\n          <p className={styles.noResults}>\r\n            No se encontraron productos para: \"{searchTerm}\"\r\n          </p>\r\n        ) : (\r\n          <div className={styles.productosGrid}>\r\n            {filteredProducts.map((product) => (\r\n              <Link key={product.id} href={`/productDetail?id=${product.id}`}>\r\n                <div className={styles.producto}>\r\n                  <img\r\n                    src={product.thumbnail || '/images/default.jpg'}\r\n                    alt={product.title}\r\n                    className={styles.productoImg}\r\n                  />\r\n                  <h3>{product.title}</h3>\r\n                  <p>{product.description}</p>\r\n                  <p>Precio: {product.price}‚Ç¨</p>\r\n                </div>\r\n              </Link>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <footer className={styles.customFooter}>\r\n        <p>\r\n          ¬øNo encontraste lo que buscas?{' '}\r\n          <span onClick={() => (window.location.href = '/')}>Volver atr√°s</span>\r\n        </p>\r\n      </footer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SearchPage;\r\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AACA;AALA;;;;;;;AAOA,MAAM,aAAa;IACjB,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IAC3D,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,SAAS,CAAA,GAAA,uHAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,mGAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,QAAQ,OAAO,KAAK,CAAC,KAAK,IAAI;QACpC,cAAc;QAEd,MAAM,gBAAgB;YACpB,IAAI,CAAC,SAAS,MAAM,MAAM,GAAG,GAAG;gBAC9B,oBAAoB,EAAE;gBACtB,WAAW;gBACX;YACF;YAEA,WAAW,OAAO,8CAA8C;YAEhE,IAAI;gBACF,MAAM,WAAW,MAAM,MAAM,CAAC,uCAAuC,EAAE,mBAAmB,QAAQ;gBAClG,IAAI,CAAC,SAAS,EAAE,EAAE;oBAChB,MAAM,IAAI,MAAM;gBAClB;gBACA,MAAM,OAAO,MAAM,SAAS,IAAI;gBAEhC,MAAM,UAAU,KAAK,OAAO,CAAC,MAAM,CAAC,CAAC,UACnC,QAAQ,KAAK,EAAE,cAAc,SAAS,MAAM,WAAW;gBAGzD,oBAAoB;YACtB,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,0CAA0C;gBACxD,oBAAoB,EAAE;YACxB,SAAU;gBACR,WAAW,QAAQ,mCAAmC;YACxD;QACF;QAEA;IACF,GAAG;QAAC,OAAO,KAAK,CAAC,KAAK;KAAC;IAEvB,qBACE;;0BACE,qKAAC,6GAAA,CAAA,UAAM;;;;;0BAEP,qKAAC;gBAAI,WAAW,oHAAA,CAAA,UAAM,CAAC,iBAAiB;0BACrC,wBACC,qKAAC;oBAAE,WAAW,oHAAA,CAAA,UAAM,CAAC,WAAW;8BAAE;;;;;2BAChC,CAAC,2BACH,qKAAC;oBAAE,WAAW,oHAAA,CAAA,UAAM,CAAC,SAAS;8BAAE;;;;;2BAC9B,iBAAiB,MAAM,KAAK,kBAC9B,qKAAC;oBAAE,WAAW,oHAAA,CAAA,UAAM,CAAC,SAAS;;wBAAE;wBACM;wBAAW;;;;;;yCAGjD,qKAAC;oBAAI,WAAW,oHAAA,CAAA,UAAM,CAAC,aAAa;8BACjC,iBAAiB,GAAG,CAAC,CAAC,wBACrB,qKAAC,qHAAA,CAAA,UAAI;4BAAkB,MAAM,CAAC,kBAAkB,EAAE,QAAQ,EAAE,EAAE;sCAC5D,cAAA,qKAAC;gCAAI,WAAW,oHAAA,CAAA,UAAM,CAAC,QAAQ;;kDAC7B,qKAAC;wCACC,KAAK,QAAQ,SAAS,IAAI;wCAC1B,KAAK,QAAQ,KAAK;wCAClB,WAAW,oHAAA,CAAA,UAAM,CAAC,WAAW;;;;;;kDAE/B,qKAAC;kDAAI,QAAQ,KAAK;;;;;;kDAClB,qKAAC;kDAAG,QAAQ,WAAW;;;;;;kDACvB,qKAAC;;4CAAE;4CAAS,QAAQ,KAAK;4CAAC;;;;;;;;;;;;;2BATnB,QAAQ,EAAE;;;;;;;;;;;;;;;0BAiB7B,qKAAC;gBAAO,WAAW,oHAAA,CAAA,UAAM,CAAC,YAAY;0BACpC,cAAA,qKAAC;;wBAAE;wBAC8B;sCAC/B,qKAAC;4BAAK,SAAS,IAAO,OAAO,QAAQ,CAAC,IAAI,GAAG;sCAAM;;;;;;;;;;;;;;;;;;;AAK7D;uCAEe","debugId":null}}]
}