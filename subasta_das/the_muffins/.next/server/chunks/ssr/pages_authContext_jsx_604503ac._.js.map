{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/patriciadiaz/Documents/3/2/DesarrolloApps/subasta_das/the_muffins/pages/authContext.jsx"],"sourcesContent":["'use client';\nimport React, { createContext, useContext, useState, useEffect } from 'react';\n\nconst AuthContext = createContext();\n\nexport function useAuth() {\n  return useContext(AuthContext); \n}\n\nexport const AuthProvider = ({ children }) => {\n  const [user, setUser] = useState(null);\n\n \n  useEffect(() => {\n    const accessToken = localStorage.getItem('accessToken');\n    if (accessToken) {\n    \n      setUser({ accessToken });\n    }\n  }, []);\n\n  const login = async (username, password) => {\n    try {\n      const response = await fetch('https://das-p2-backend.onrender.com/api/users/login/', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ username, password })\n      });\n      const data = await response.json();\n      if (response.ok) {\n        localStorage.setItem('accessToken', data.access); \n        setUser({ username, access: data.access }); \n      } else {\n        throw new Error(data.message || 'Login failed');\n      }\n    } catch (error) {\n      console.error('Login error:', error);\n      throw error; \n    }\n  };\n\n  const logout = () => {\n    localStorage.removeItem('accessToken'); \n    setUser(null); \n  };\n\n \n  return (\n    <AuthContext.Provider value={{ user, login, logout }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};"],"names":[],"mappings":";;;;;AACA;AADA;;;AAGA,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD;AAEzB,SAAS;IACd,OAAO,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE;AACpB;AAEO,MAAM,eAAe,CAAC,EAAE,QAAQ,EAAE;IACvC,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAGjC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,cAAc,aAAa,OAAO,CAAC;QACzC,IAAI,aAAa;YAEf,QAAQ;gBAAE;YAAY;QACxB;IACF,GAAG,EAAE;IAEL,MAAM,QAAQ,OAAO,UAAU;QAC7B,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,wDAAwD;gBACnF,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAU;gBAAS;YAC5C;YACA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,IAAI,SAAS,EAAE,EAAE;gBACf,aAAa,OAAO,CAAC,eAAe,KAAK,MAAM;gBAC/C,QAAQ;oBAAE;oBAAU,QAAQ,KAAK,MAAM;gBAAC;YAC1C,OAAO;gBACL,MAAM,IAAI,MAAM,KAAK,OAAO,IAAI;YAClC;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,gBAAgB;YAC9B,MAAM;QACR;IACF;IAEA,MAAM,SAAS;QACb,aAAa,UAAU,CAAC;QACxB,QAAQ;IACV;IAGA,qBACE,8OAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAO;QAAO;kBAChD;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}